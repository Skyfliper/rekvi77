<!DOCTYPE html>
<html lang="uz-Cyrl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Централ Банк Реквизитлари</title>
<style>
:root {
  --bg: #0d111f;
  --card: rgba(255,255,255,0.05);
  --muted: #94a3b8;
  --text: #f1f5f9;
  --accent: #4f9cff;
  --accent-2: #7c5cff;
  --success: #22c55e;
  --radius: 16px;
}
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: Inter, Arial, sans-serif;
  background: radial-gradient(800px circle at 20% 10%, #1e293b, transparent),
              radial-gradient(600px circle at 80% 60%, #312e81, transparent),
              var(--bg);
  color: var(--text);
  padding: 16px;
  -webkit-tap-highlight-color: transparent;
}
h1 {
  text-align: center;
  font-size: clamp(20px, 5vw, 26px);
  margin-bottom: 6px;
}
.subtitle {
  text-align: center;
  font-size: 14px;
  color: var(--muted);
  margin-bottom: 24px;
}
.card {
  background: var(--card);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: var(--radius);
  padding: 14px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 14px;
  gap: 10px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.25);
}
.info {
  display: flex;
  align-items: center;
  gap: 10px;
  flex: 1;
}
.icon {
  flex-shrink: 0;
  width: 46px; height: 46px;
  border-radius: 12px;
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  display: flex;
  justify-content: center;
  align-items: center;
  animation: pulse 3s infinite ease-in-out;
}
.icon svg {
  width: 24px; height: 24px; stroke: #fff;
}
.text { min-width: 0; }
.label {
  font-size: 13px;
  color: var(--muted);
  margin: 0;
}
.value {
  font-size: clamp(15px, 4vw, 18px);
  font-weight: 600;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.copy-btn {
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.12);
  color: var(--text);
  padding: 8px;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px; height: 40px;
  position: relative;
  overflow: hidden;
  touch-action: manipulation; /* для мобильных */
}
.copy-btn svg {
  width: 20px; height: 20px;
  transition: transform 0.3s ease, opacity 0.3s ease;
  stroke: currentColor;
}
  <p>Банк номи: <span id="bankName">Загрузка...</span></p>
<p>Карта рақами: <span id="cardNumber">Загрузка...</span></p>
<p>Ф.И.Ш.: <span id="fullName">Загрузка...</span></p>
.copy-btn.success {
  background: rgba(34,197,94,0.15);
  border-color: var(--success);
  color: var(--success);
}
.footer { margin-top: 20px; text-align: center; }
.send-btn {
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  border: none;
  color: white;
  padding: 12px 20px;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: transform 0.2s;
}
.send-btn svg { width: 18px; height: 18px; stroke: #fff; }
.send-btn:active { transform: scale(0.96); }
.note {
  font-size: 14px;
  color: var(--muted);
  margin-top: 10px;
  line-height: 1.4;
}
.toast {
  position: fixed;
  bottom: 20px; left: 50%;
  transform: translateX(-50%) translateY(40px);
  background: rgba(15,23,42,0.95);
  color: var(--text);
  padding: 8px 14px;
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,0.1);
  font-size: 14px;
  opacity: 0;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 6px;
  z-index: 99;
}
.toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
@keyframes pulse { 0%,100%{transform:scale(1)} 50%{transform:scale(1.05)} }
@media (max-width: 480px) {
  .card { flex-wrap: wrap; }
  .copy-btn { width: 100%; height: 40px; }
}
</style>
</head>
<body>

<h1>Централ Банк Реквизитлари</h1>
<p class="subtitle">Солиха менежерига квитанция юборинг</p>

<!-- Банк номи -->
<div class="card">
  <div class="info">
    <div class="icon">
      <svg fill="none" viewBox="0 0 24 24" stroke-width="2">
        <path d="M3 10l9-6 9 6" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M4 10h16v8H4z"/>
      </svg>
    </div>
    <div class="text">
      <p class="label">Банк номи</p>
      <p>Банк номи: <span id="bank">Загрузка...</span></p>
    </div>
  </div>
  <button class="copy-btn" data-target="bank" aria-label="Нусха олиш">
    <!-- SVG copy icon -->
    <svg class="copy-icon" fill="none" viewBox="0 0 24 24" stroke-width="2">
      <rect x="9" y="9" width="12" height="12" rx="2"/>
      <rect x="3" y="3" width="12" height="12" rx="2" opacity=".6"/>
    </svg>
    <!-- SVG check icon -->
    <svg class="check-icon" fill="none" viewBox="0 0 24 24" stroke-width="2" style="position:absolute; opacity:0;">
      <path d="M5 13l4 4L19 7" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>
</div>

<!-- Карта рақами -->
<div class="card">
  <div class="info">
    <div class="icon">
      <svg fill="none" viewBox="0 0 24 24" stroke-width="2">
        <rect x="2" y="5" width="20" height="14" rx="3"/>
        <path d="M2 10h20"/>
      </svg>
    </div>
    <div class="text">
      <p class="label">Банк картаси</p>
      <p>Банк картаси: <span id="card">Загрузка...</span></p>
    </div>
  </div>
  <button class="copy-btn" data-target="card" aria-label="Нусха олиш">
    <svg class="copy-icon" fill="none" viewBox="0 0 24 24" stroke-width="2">
      <rect x="9" y="9" width="12" height="12" rx="2"/>
      <rect x="3" y="3" width="12" height="12" rx="2" opacity=".6"/>
    </svg>
    <svg class="check-icon" fill="none" viewBox="0 0 24 24" stroke-width="2" style="position:absolute; opacity:0;">
      <path d="M5 13l4 4L19 7" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>
</div>

<!-- Ф.И.Ш. -->
<div class="card">
  <div class="info">
    <div class="icon">
      <svg fill="none" viewBox="0 0 24 24" stroke-width="2">
        <circle cx="12" cy="8" r="4"/>
        <path d="M4 20c1.8-3.5 5-5 8-5s6.2 1.5 8 5"/>
      </svg>
    </div>
    <div class="text">
      <p class="label">Ф.И.Ш.</p>
     <p><span id="fullName">Загрузка...</span></p>
    </div>
  </div>
  <button class="copy-btn" data-target="fio" aria-label="Нусха олиш">
    <svg class="copy-icon" fill="none" viewBox="0 0 24 24" stroke-width="2">
      <rect x="9" y="9" width="12" height="12" rx="2"/>
      <rect x="3" y="3" width="12" height="12" rx="2" opacity=".6"/>
    </svg>
    <svg class="check-icon" fill="none" viewBox="0 0 24 24" stroke-width="2" style="position:absolute; opacity:0;">
      <path d="M5 13l4 4L19 7" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>
</div>

<div class="footer">
  <a href="https://t.me/KreditSolixa" target="_blank" class="send-btn" rel="noopener">
    <svg fill="none" viewBox="0 0 24 24" stroke-width="2">
      <path d="M22 2L11 13"/>
      <path d="M22 2l-7 20-4-9-9-4 20-7z" stroke-linejoin="round"/>
    </svg>
    Жўнатиш
  </a>
  <p class="note">
    Солиха кредит бўйича менежерга квитанцияни юборинг.<br/>
    Квитанцияни юбориш учун “Жўнатиш” тугмасини босинг.
  </p>
</div>

<!-- Toast -->
<div class="toast" id="toast">
  <svg width="18" height="18" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
    <path d="M5 13l4 4L19 7" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  Нусха олинди
</div>

<script>
/* Универсальное копирование: Clipboard API -> textarea fallback -> contentEditable fallback */
function copyTextToClipboard(text) {
  if (navigator.clipboard && window.isSecureContext) {
    return navigator.clipboard.writeText(text).then(()=>true).catch(()=>fallback(text));
  }
  return fallback(text);

  function fallback(txt){
    return new Promise((resolve)=>{
      // 1) textarea fallback (надёжно на iOS/Android, если в видимой области)
      const ta = document.createElement('textarea');
      ta.value = txt;
      ta.readOnly = true;
      ta.style.position = 'fixed';
      ta.style.top = '0';
      ta.style.left = '0';
      ta.style.opacity = '0';
      ta.style.fontSize = '16px'; // чтобы iOS не зумил
      ta.style.pointerEvents = 'none';
      document.body.appendChild(ta);
      ta.focus({ preventScroll: true });
      ta.select();
      ta.setSelectionRange(0, ta.value.length);
      let ok = false;
      try { ok = document.execCommand('copy'); } catch(e) { ok = false; }
      document.body.removeChild(ta);

      if(ok) { resolve(true); return; }

      // 2) contentEditable fallback (на самый крайний случай)
      const span = document.createElement('span');
      span.textContent = txt;
      span.style.whiteSpace = 'pre';
      span.contentEditable = 'true';
      span.style.position = 'fixed';
      span.style.top = '0';
      span.style.left = '0';
      span.style.opacity = '0';
      document.body.appendChild(span);

      const selection = window.getSelection();
      const range = document.createRange();
      range.selectNodeContents(span);
      selection.removeAllRanges();
      selection.addRange(range);

      try { ok = document.execCommand('copy'); } catch(e) { ok = false; }

      selection.removeAllRanges();
      document.body.removeChild(span);
      resolve(ok);
    });
  }
}

function attachCopy(btn){
  if (btn._attached) return;
  btn._attached = true;
  const run = (ev)=>{
    ev.preventDefault();
    ev.stopPropagation();
    if (btn._busy) return;
    btn._busy = true;

    const id = btn.dataset.target;
    const el = document.getElementById(id);
    const text = (el?.getAttribute('data-copy') || el?.textContent || '').trim();

    const copyIcon = btn.querySelector('.copy-icon');
    const checkIcon = btn.querySelector('.check-icon');

    copyTextToClipboard(text).then((ok)=>{
      if(ok){
        btn.classList.add('success');
        copyIcon.style.opacity = '0';
        checkIcon.style.opacity = '1';
        checkIcon.style.transform = 'scale(1.2)';
        setTimeout(()=>{ checkIcon.style.transform = 'scale(1)'; }, 100);
        showToast('Нусха олинди');
      }else{
        showToast('Кечирасиз, нусха олиб бўлмади');
      }
    }).finally(()=>{
      setTimeout(()=>{
        btn.classList.remove('success');
        copyIcon.style.opacity = '1';
        checkIcon.style.opacity = '0';
        btn._busy = false;
      }, 1200);
    });
  };

  // Используем pointerup, а где нет — touchend, иначе click
  if (window.PointerEvent) {
    btn.addEventListener('pointerup', run, { passive: false });
  } else if ('ontouchend' in window) {
    btn.addEventListener('touchend', run, { passive: false });
  } else {
    btn.addEventListener('click', run, false);
  }
}

function showToast(text){
  const toast = document.getElementById('toast');
  if (!toast) return;
  // обновим текст тоста (оставляем SVG галочку)
  toast.childNodes.forEach(n=>{
    if(n.nodeType===Node.TEXT_NODE) n.nodeValue = ' ' + text;
  });
  toast.classList.add('show');
  clearTimeout(showToast._t);
  showToast._t = setTimeout(()=>toast.classList.remove('show'), 1500);
}

document.querySelectorAll('.copy-btn').forEach(attachCopy);
</script>

</body>
<script>
fetch('data.json')
  .then(response => response.json())
  .then(data => {
    document.getElementById("bank").textContent = data.bank;
    document.getElementById("card").textContent = data.card;
    document.getElementById("fio").textContent = data.fio;
  })
  .catch(error => {
    console.error("Ошибка загрузки data.json:", error);
  });
</script>

</script>

</html>


















